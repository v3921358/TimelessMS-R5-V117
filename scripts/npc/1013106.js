var status;   
var maxitems = 1000;
var error = new String("#e#bI'm sorry but this item is blocked! Or it's a Vote Point Item!");
var blocked = [2022766, 1042003, 1062007, 1002140, 1003142, 1322013, 1002959,2022179, 2022282, 2340000, 2049100, 2070018, 1002850, 1082223, 1072344, 1012106, 1102041,1142000,1142001,1142002,1142003,1142005,1142006,1142008,3010036,1132001,1132001,3010009,3010014,3010191,1000032,1001047,1052093,1102097,1072283,1702118,1001045,1000030,1052091,1102096,1072281,1702119,2049100,2340000,2022179,2022282,2049307,2049400,4000484,4003005,4000313,5530063,5062002,5221000,5530062,1902000,1902001,1902002,1912000,1902005,1902006,1902007,1912005,1902015,1902016,1902017,1902018,1912011,1912029,1912032,1902038,1902039,1902036,5200000,5200001,5200002,4001168, 5220013, 3993003, 2340000, 2049100, 4001129, 2040037, 2040006, 2040007, 2040303, 2040403, 2040506, 2040507, 2040603, 2040709, 2040710, 2040711, 2040806, 2040903, 2041024, 2041025, 2043003, 2043103, 2043203, 2043303, 2043703, 2043803, 2044003, 2044103, 2044203, 2044303, 2044403, 2044503, 2044603, 2044908, 2044815, 2044019, 2044703,5080001, 5080000, 5063000, 5064000, 5660000, 5660001, 5222027, 5530172, 5530173, 5530174, 5530175, 5530176, 5530177, 5251016, 5534000, 5152053, 5152058, 5150044, 5150040, 5220082, 5680021, 5150050, 5211091, 5211092, 5220087, 5220088, 5220089, 5220090, 5220085, 5220086, 5470000, 1002971, 1052202, 5060003, 5060004, 5680015, 5220082, 5530146, 5530147, 5530148, 5710000, 5500000, 5500001, 5500002, 5500002, 5500003, 5500004, 5500005, 5500006, 5050000, 5075000, 5075001, 5075002, 1122121, 5450000, 5190005, 5190007, 5600000, 5600001, 5350003, 2300002, 2300003, 5330000, 5062000, 5211073, 5211074, 5211075, 5211076, 5211077, 5211078, 5211079, 5650000, 5431000, 5431001, 5432000, 5450000, 5550000, 5550001, 5640000, 5530013, 5150039, 5150040, 5150046, 5150054, 5150052, 5150053, 5151035, 5151036, 5152053, 5152056, 5152057, 5152058, 1812006, 5650000, 5222000, 5221001, 5220014, 5220015, 5420007, 5451000,5210000, 5210001, 5210002, 5210003, 5210004, 5210005, 5210006, 5210007, 5210008, 5210009, 5210010, 5210011, 5211000, 5211001, 5211002, 5211003, 5211004, 5211005, 5211006, 5211007, 5211008, 5211009, 5211010, 5211011, 5211012, 5211013, 5211014, 5211015, 5211016, 5211017, 5211018,5211019, 5211020, 5211021, 5211022, 5211023, 5211024, 5211025, 5211026, 5211027, 5211028, 5211029, 5211030, 5211031, 5211032, 5211033, 5211034, 5211035, 5211036, 5211037, 5211038, 5211039, 5211040, 5211041, 5211042, 5211043,5211044, 5211045, 5211046, 5211047, 5211048, 5211049, 5211050, 5211051, 5211052, 5211053, 5211054, 5211055, 5211056, 5211057, 5211058, 5211059, 5211060, 5211061,5360000, 5360001, 5360002, 5360003, 5360004, 5360005, 5360006, 5360007, 5360008, 5360009, 5360010, 5360011, 5360012, 5360013, 5360014, 5360017, 5360050, 5211050, 5360042, 5360052, 5360053, 5360050,1112810, 1112811, 5530013, 4001431, 4001432, 4032605,5140000, 5140001, 5140002, 5140003, 5140004, 5140007,5270000, 5270001, 5270002, 5270003, 5270004, 5270005, 5270006,2101050,2101051,2101052,2101053,2101054,2101055,2101056,2100017,2100000,2100014,2100016,2100002,2100003,2100004,2100005,2100006,2100007,21000013,2100015,2101013];
function start() {   
    status = -1;   
    action(1,0,0);   
}   

function action(mode, type, selection) {   
    if (mode == -1) {   
        cm.dispose();   
        return;   
    } else {   
        (mode == 1 ? status++ : status--);   
    }   
    if (status == 0) {   
    cm.sendGetText("#b#eHey there, I'm the free item giver with scrolls! Type the ID you want below. Many items are blocked.");   
    } else if (status == 1) { 
	text = cm.getText(); 
	for (var i = 0; i < blocked.length; i++) {
	   if(text == blocked[i]){
	   cm.sendOk(error);
	   }
	 }
	if (text.length() > 7 || text.length() < 7) {
	cm.sendOk("#e#bItem must be equals to 7 numbers!");
	cm.dispose();
	}
    	cm.sendGetNumber("#e#bHow many  #v"+cm.getText()+ "# do you want ? (Max: #r" + maxitems + "#b)", 1, 1, maxitems); 
	} else if (status == 2) { 
	cm.gainItem(cm.getText(), selection); 
        cm.dispose();   
    }   
}